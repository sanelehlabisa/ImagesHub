<div class="bg-dark min-vh-100 overflow-auto">
    <div class="container">
        <div class="row justify-content-end py-2">
            <button class="btn btn-outline-danger rounded-pill d-flex p-2" (click)="close()">
                <mat-icon>
                    close
                </mat-icon>
            </button>
        </div>    
    </div>
    <div class="container bg-white" *ngIf="isLoading">
        <div class="row d-flex justify-content-center align-items-center" style="height: calc(100vh - 60px);">
            <mat-spinner></mat-spinner>
        </div>
    </div>
    <main class="container bg-white" *ngIf="!isLoading && !isRequestApproved">
        <div class="row py-3">
            <div class="col d-flex">
                <img class="w-100 h-100" [src]="appendToBaseUrl(imageData?.low_res_img_fname)" [alt]="imageData?.low_res_img_fname" style="object-fit: cover;">
            </div>
            <div class="col">
                <form>
                    <p>The image on the left is protected and cannot be used for any illegal activities of making money.</p>
                    <p>
                        You are requested to provide a reason for viewing the image, and this application will be administered by an administrator, so you are highly encouraged to provide accurate information.
                    </p>
                    <div class="form-group text-center">
                        <label class="d-block" for="reason">Reason for viewing image</label>
                        <input class="d-block w-100" type="text" id="reason" placeholder="enter the reason why you request to view this image..." #reasonInput>
                    </div>
                    <div class="form-group text-center">
                        <button class="btn btn-primary" (click)="sendRequest(reasonInput.value)">submit</button>
                    </div>
                </form>
            </div>
        </div>
    </main>
    <div class="container">
        <div class="row d-flex" *ngIf="!isLoading && isRequestApproved">
            <img class="w-100 h-100" [src]="appendToBaseUrl(imageData?.high_res_img_fname)" [alt]="imageData?.high_res_img_fname" style="object-fit: contain; max-width: 100%; max-height: calc(100vh - 60px);">
        </div>
    </div>
</div>